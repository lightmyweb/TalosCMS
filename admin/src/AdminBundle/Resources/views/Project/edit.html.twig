{% extends 'AdminBundle::_shared.html.twig' %}
{% block title %}Editer projet{% endblock %} 
{% block lib_css %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/css/select2.min.css" rel="stylesheet" />
{% endblock %}
{% block lib_script %}
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/js/select2.min.js"></script>
    {{ tinymce_init() }}
{% endblock %}

{% block local_script %}
    <script src="{{ asset('adminTemplateFiles/build/js/boxes_script.js') }}" type="text/javascript"></script>
    <script src="{{ asset('adminTemplateFiles/build/js/eventOrder.js') }}" type="text/javascript"></script>
    <script type="text/javascript">
    updatePositionOnEdit();
    </script>
    <script type="text/javascript">
    $(".client").select2({
        placeholder: "Sélectionner un ou plusieurs clients "
    });
    $(".cat").select2({
        placeholder: "Sélectionner une ou plusieurs Categories "
    });
    $(".location").select2({
        placeholder: "Sélectionner une ou plusieurs locations "
    });
    </script>
{% endblock %}

{% block body %}
{{ form_start(edit_form) }}
<div class="col col_8">
     <div class="container_box" data-change="{{ path('slugValidation',{ 'entity': '999-entity','slug':'888-slug'}) }}">
        <div class="box_title"> 
            {% if project.translations[app.request.locale].title  is defined %}
                <h3>Editer - {{ project.translations[app.request.locale].title }}</h3>
            {% else %}
                <h3>Editer projet <small>Titre introuvable</small></h3>
            {% endif %}
        </div>
        <div class="box_content">
            <div class="row">
                {{ render(controller( 
                    'AdminBundle:RenderTemplate:renderProjectForm',{ 'form': edit_form, 'entity':project, 'data':null }
                )) }}
            </div>
        </div>
    </div>
</div>
<div class="col col_4">
    
    <div class="action-page">
        <div class="action-body">
           {{ render(controller( 
            'AdminBundle:RenderTemplate:renderState',{ 'form': edit_form, 'entity':project}
            )) }}
           <div class="btn-group">
                {{ render(controller( 
                    'AdminBundle:RenderTemplate:renderSubmitButtons',{'path':path('project_index')  }
                )) }}
           </div>
        </div>
    </div>
</div>
{{ form_end(edit_form) }}

{% endblock %}

{% block media_content %}
    {% include 'MediaBundle:Templates:medias.html.twig'%}
{% endblock %}
