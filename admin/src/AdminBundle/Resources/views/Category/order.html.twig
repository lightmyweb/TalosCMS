{% extends 'AdminBundle::_shared.html.twig' %}
{% block lib_script %}
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js "></script>
{% endblock %}

{% block local_script %}
    <script src="{{ asset('adminTemplateFiles/build/js/eventOrder.js') }}" type="text/javascript"></script>
    <script type="text/javascript">
    updatePositionOnEdit();
    </script>
{% endblock %}

{% block body %}
<div class="Nb">
    <p>Le changement d'ordre se fait via un drag and drop <span>Ordre Effectu√©</span> </p>
</div>
<div class="row orderPubLictionperTheme">
    {% for category in categories if category.state == true %}
        <div class="col col_1 publicationsOrderElement parent-img-position-picto" 
        data-path="{{path('updateCategoryPosition', { 'id': category.id,'position':'element' })}}" 
        data-id="{{category.id}}" 
        data-order="{{category.position}}">
            <div class="content">
                <div class="picto">
                        {# {% if category.categoryimg.src is defined and  category.categoryimg.src is not null %}
                            <img class="img-position-picto" src="{{ asset('uploads/'~ category.categoryimg.src) }}">
                        {% else %}
                            <img class="img-position-picto" src="{{ asset('adminTemplateFiles/build/img/noimage.png') }}">
                        {% endif %} #}
                        <img class="img-position-picto" src="{{ asset('adminTemplateFiles/build/img/noimage.png') }}">
                    </div>
                <div class="title"><h3>{{category.translations[app.request.locale].name}}</h3>   </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
